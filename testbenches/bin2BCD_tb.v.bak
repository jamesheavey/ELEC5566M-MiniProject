module bin2BCD
(
	input [9:0] bin,
	output reg [11:0] BCD
);

integer i, j;
always @(bin)
begin
	BCD = 0;
	
	for(i=9; i>=0; i=i-1) begin
	
		for(j=0; j<=2; j=j+1) begin
			BCD[4*(j+1)-1-:3] <= (BCD[4*(j+1)-1-:3] >= 5) ? BCD[4*(j+1)-1-:3]+3 : BCD[4*(j+1)-1-:3];
		end
		
		BCD <= BCD << 1;
		BCD[0] = bin[i];
	end
end

endmodule
